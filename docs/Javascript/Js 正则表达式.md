## RegExp正则表达式

>`RegExp`对象表示正则表达式，它是对字符串执行模式匹配的强大工具

![](/about-blog/media/about-blog/about-blog/media/regexp.png)

regexp.exec(String)（最强大，最慢的）

它成功匹配到的 regexp 和 字符串的 String，返回一个数组，下标0包含正则表达式匹配的子字符串，1，2，3··· 对应分组1，2，3···捕获的文本

regexp.test(string) (最简单，最快)

返回 true false，不要对这个方法使用 g 标识。

### 修饰符

* `i`执行对大小写不敏感的匹配
* `g`执行全局的匹配（查找所有匹配而非在找到第一个匹配后停止）
* `m`执行多行匹配

### 方括号
* `[abc]`查找方括号之间的任何字符
* `[^abc]`查找任何不在方括号内的字符
* `[0-9]`查找任何从0-9的数字
* `[a-z]`查找任何从a-z的字母
* `[A-Z]`查找任何从A-Z的字母
* `[adgk]`查找给定集合内的任何字符
* `[^adgk]`查找给集合外内的任何字符
* `(red|blue|green)`查找任何指定的选项

### 元字符
​	

| 元字符 | 对应说明                                 |
| ------ | ---------------------------------------- |
| .      | 匹配除换行符之外的任意字符               |
| \w     | 匹配字母数字下划线，等同于：[a-zA-Z0-9_] |
| \s     | 匹配任意空白符                           |
| \d     | 匹配数字，等同于[0-9]                    |
| \b     | 匹配单词边界                             |
| \|     | 或匹配，如 /x\|y/ 正则可匹配x或y两个字符 |
| ^      | 匹配字符串的开始                         |
| $      | 匹配字符串的结束                         |

### 反义字符

| 反义字符 | 对应说明                                                |
| -------- | ------------------------------------------------------- |
| [^x]     | 匹配除“x”之外的所有字符，其中“x”可以为任意字符          |
| [^xyz]   | 同上，匹配除“x、y、z”之外的任意字符                     |
| \W       | 匹配除了字母、数字、下划线之外的所有字符，等同于：[^\w] |
| \S       | 匹配除空白符之外的任意字符，等同于：[^\s]               |
| \B       | 匹配不是单词边界的字符，等同于：[^\b]                   |
| \D       | 匹配不是数字的所有字符，等同于：[^\d]                   |

### 转义字符

| 转义字符 | 对应说明                     |
| -------- | ---------------------------- |
| \xnn     | 匹配十六进制数               |
| \f       | 匹配换页符，等同于：\x0c     |
| \n       | 匹配换行符，等同于：\x0a     |
| \r       | 匹配回车符，等同于：\x0d     |
| \t       | 匹配水平制表符，等同于：\x09 |
| \v       | 匹配垂直制表符，等同于：\x0b |
| \unnnn   | 匹配Unicode字符，如：\u00A0  |

### 重复匹配

| 匹配字符 | 对应说明                  |
| -------- | ------------------------- |
| *        | 重复出现零次或多次        |
| +        | 重复出现一次或多次        |
| ？       | 重复出现零次或一次        |
| {n}      | 重复出现n次               |
| {n,}     | 至少重复出现n次           |
| {m,n}    | 重复重现m到n次，其中，m<n |

### 分组/捕获

一个捕获型分组是一个被包围在圆括号内，任何匹配这个分组的字符都会被捕获，每个捕获型的分组都被指定了一个数字。

非捕获型分组有一个 (?: 前缀。仅做简单的匹配，不会捕获所匹配的文本，带来微弱的性能优势。并且不会干扰捕获型分组的编号。

| 分组字符      | 对应说明                                                     |
| ------------- | ------------------------------------------------------------ |
| (exp)         | 用小圆括号进行分组，如日期中年月日的分组：/(\d{5})-(\d{1,2})-(\d{1,2})/每个分组将产生分组号，从第一个括号开始，可以使用\n的形式在正则中使用分组号，如匹配成对出现的HTML标签，可以写成：/<(\w+)><\/\1>/ |
| (?:exp)       | 匹配exp正则，但不产生分组号                                  |
| exp1(?=exp2)  | 前瞻断言，匹配exp1，但后面必须是exp2如匹配名字叫xianlie，但不姓zhao的人：/zhao(?=xianlie)/ |
| exp1(?!=exp2) | 后瞻断言，匹配exp1，但后面不能是exp2如匹配姓zhao，但名字不叫xianlie的人：/zhao(?!xianlie)/ |

### 贪婪与惰性

| 相关字符 | 对应说明                         |
| -------- | -------------------------------- |
| *?       | 重复任意次，但尽可能少的重复     |
| +?       | 重复一次或多次，但尽可能少的重复 |
| ??       | 重复零次或一次，但尽可能少的重复 |
| {m,n}?   | 重复m到n次，但尽可能少的重复     |
| {n,}?    | 重复n次以上，但尽可能少的重复    |
| {n}?     | 重复n次，但尽可能少的重复        |

### 模式匹配

```js
var text = 'testing: 1, 2, 3'
var pattern = /\d+/g //匹配所有包含一个或多个数字的实例
pattern.test(text) //返回true 匹配成功
text.search(pattern) // => 9 首次匹配成功的位置
text.match(pattern) // => ['1', '2', '3'] 所有匹配组成的数组 
text.replace(pattern, '#') // => 'testing: #, #, #'
text.split(/\D+/) // => ['', '1', '2', '3'] 用非数字字符截取字符串
```