(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{341:function(e,t,r){"use strict";r.r(t);var n=r(0),a=Object(n.a)({},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("h1",{attrs:{id:"协议端口"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#协议端口","aria-hidden":"true"}},[e._v("#")]),e._v(" 协议端口")]),e._v(" "),r("p",[e._v("如果把IP地址比作一间房子 ，端口就是出入这间房子的门。真正的房子只有几个门，但是一个IP地址的端口可以有65536（即：2^16）个之多！端口是通过"),r("a",{attrs:{href:"https://baike.baidu.com/item/%E7%AB%AF%E5%8F%A3%E5%8F%B7",target:"_blank",rel:"noopener noreferrer"}},[e._v("端口号"),r("OutboundLink")],1),e._v("来标记的，端口号只有整数，范围是从0 到65535（2^16-1）。")]),e._v(" "),r("p",[e._v("在Internet上，各"),r("a",{attrs:{href:"https://baike.baidu.com/item/%E4%B8%BB%E6%9C%BA",target:"_blank",rel:"noopener noreferrer"}},[e._v("主机"),r("OutboundLink")],1),e._v("间通过TCP/IP协议发送和接收"),r("a",{attrs:{href:"https://baike.baidu.com/item/%E6%95%B0%E6%8D%AE%E5%8C%85",target:"_blank",rel:"noopener noreferrer"}},[e._v("数据包"),r("OutboundLink")],1),e._v("，各个数据包根据其目的主机的ip地址来进行互联网络中的"),r("a",{attrs:{href:"https://baike.baidu.com/item/%E8%B7%AF%E7%94%B1%E9%80%89%E6%8B%A9",target:"_blank",rel:"noopener noreferrer"}},[e._v("路由选择"),r("OutboundLink")],1),e._v(",把数据包顺利的传送到目的主机。大多数操作系统都支持多程序（进程）同时运行，那么目的主机应该把接收到的数据包传送给众多同时运行的进程中的哪一个呢？显然这个问题有待解决，端口机制便由此被引入进来。")]),e._v(" "),r("p",[e._v("本地操作系统会给那些有需求的进程分配协议端口（protocol port，即我们常说的端口），每个协议端口由一个正整数标识，如：80，139，445，等等。当目的主机接收到数据包后，将根据"),r("a",{attrs:{href:"https://baike.baidu.com/item/%E6%8A%A5%E6%96%87",target:"_blank",rel:"noopener noreferrer"}},[e._v("报文"),r("OutboundLink")],1),e._v("首部的目的"),r("a",{attrs:{href:"https://baike.baidu.com/item/%E7%AB%AF%E5%8F%A3%E5%8F%B7",target:"_blank",rel:"noopener noreferrer"}},[e._v("端口号"),r("OutboundLink")],1),e._v("，把数据发送到相应端口，而与此端口相对应的那个进程将会领取数据并等待下一组数据的到来。说到这里，端口的概念似乎仍然抽象，那么继续跟我来，别走开。")]),e._v(" "),r("p",[e._v("端口其实就是队，操作系统为各个进程分配了不同的队，数据包按照目的端口被推入相应的队中，等待被进程取用，在极特殊的情况下，这个队也是有可能溢出的，不过操作系统允许各进程指定和调整自己的队的大小。")]),e._v(" "),r("p",[e._v("不光接受数据包的进程需要开启它自己的端口，发送数据包的进程也需要开启端口，这样，数据包中将会标识有源端口，以便接受方能顺利地回传数据包到这个端口。")]),e._v(" "),r("p",[e._v("我们知道，一台拥有IP地址的主机可以提供许多服务，比如"),r("a",{attrs:{href:"https://baike.baidu.com/item/Web%E6%9C%8D%E5%8A%A1",target:"_blank",rel:"noopener noreferrer"}},[e._v("Web服务"),r("OutboundLink")],1),e._v("、FTP服务、SMTP服务等，这些服务完全可以通过1个IP地址来实现。那么，主机是怎样区分不同的"),r("a",{attrs:{href:"https://baike.baidu.com/item/%E7%BD%91%E7%BB%9C%E6%9C%8D%E5%8A%A1",target:"_blank",rel:"noopener noreferrer"}},[e._v("网络服务"),r("OutboundLink")],1),e._v("呢？显然不能只靠IP地址，因为IP 地址与网络服务的关系是一对多的关系。实际上是通过“IP地址+端口号”来区分不同的服务的。")]),e._v(" "),r("p",[e._v("计算机之间相互通信的时候，分为两种方式：一种是发送信息以后，可以确认信息是否到达，也就是有应答的方式，这种方式大多采用TCP协议；一种是发送以后就不管了，不去确认信息是否到达，这种方式大多采用"),r("a",{attrs:{href:"https://baike.baidu.com/item/UDP%E5%8D%8F%E8%AE%AE",target:"_blank",rel:"noopener noreferrer"}},[e._v("UDP协议"),r("OutboundLink")],1),e._v("。对应这两种协议的服务提供的端口，也就分为TCP端口和UDP端口。")])])},[],!1,null,null,null);t.default=a.exports}}]);