(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{205:function(a,t,s){"use strict";s.r(t);var e=s(0),n=Object(e.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("div",{staticClass:"content"},[s("h1",{attrs:{id:"linux-基础操作"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#linux-基础操作","aria-hidden":"true"}},[a._v("#")]),a._v(" Linux 基础操作")]),a._v(" "),s("h2",{attrs:{id:"日常维护命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#日常维护命令","aria-hidden":"true"}},[a._v("#")]),a._v(" 日常维护命令")]),a._v(" "),s("h3",{attrs:{id:"查看操作系统信息"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看操作系统信息","aria-hidden":"true"}},[a._v("#")]),a._v(" 查看操作系统信息")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("ubuntu@actorcloud:~$ lsb_release -a\nNo LSB modules are available.\nDistributor ID: Ubuntu\nDescription: Ubuntu 16.04.3 LTS\nRelease: 16.04\nCodename: xenial\n")])])]),s("h3",{attrs:{id:"查看系统已经开机了多久"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看系统已经开机了多久","aria-hidden":"true"}},[a._v("#")]),a._v(" 查看系统已经开机了多久")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("ubuntu@actorcloud:~$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("uptime")]),a._v("\n 15:01:02 up 27 days,  4:24,  5 users,  load average: 0.01, 0.01, 0.00\n")])])]),s("h3",{attrs:{id:"修改主机名"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#修改主机名","aria-hidden":"true"}},[a._v("#")]),a._v(" 修改主机名")]),a._v(" "),s("ul",[s("li",[a._v("修改 "),s("code",[a._v("/etc/hostname")]),a._v(" 里的主机名")])]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("ubuntu@actorcloud:~$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("cat")]),a._v(" /etc/hostname\nactorcloud\n")])])]),s("ul",[s("li",[a._v("修改 "),s("code",[a._v("/etc/hosts")]),a._v(" 文件，在 "),s("code",[a._v("localhost")]),a._v(" 后添加新的主机名")])]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("ubuntu@actorcloud:~$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("cat")]),a._v(" /etc/hosts\n127.0.0.1 localhost actorcloud\n::1     localhost actorcloud ip6-localhost ip6-loopback\n")])])]),s("ul",[s("li",[a._v("使主机名立即生效")])]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("ubuntu@actorcloud:~$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("hostname")]),a._v(" actorcloud\n")])])]),s("h3",{attrs:{id:"查看某个进程是否已经启动，并且正在监听端口"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看某个进程是否已经启动，并且正在监听端口","aria-hidden":"true"}},[a._v("#")]),a._v(" 查看某个进程是否已经启动，并且正在监听端口")]),a._v(" "),s("blockquote",[s("p",[s("code",[a._v("sudo netstat -tunlp")]),a._v(" 则可以列出系统当前所有正在监听的端口。")])]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("ubuntu@actorcloud:~$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("netstat")]),a._v(" -tunlp "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("grep")]),a._v(" 5432\ntcp6       0      0 :::5432      :::*          LISTEN      1366/docker-proxy\n")])])]),s("h3",{attrs:{id:"测试某个端口是否能被正常访问"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#测试某个端口是否能被正常访问","aria-hidden":"true"}},[a._v("#")]),a._v(" 测试某个端口是否能被正常访问")]),a._v(" "),s("blockquote",[s("p",[a._v("如果端口监听正常，但是不能访问，说明可能是防火墙问题")])]),a._v(" "),s("p",[a._v("如果能，则返回如下：")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("ubuntu@actorcloud:~$ telnet 127.0.0.1 5432\nTrying 127.0.0.1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v(".\nConnected to 127.0.0.1.\nEscape character is "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'^]'")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v(".")]),a._v("\n")])])]),s("h3",{attrs:{id:"查看内存使用情况"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看内存使用情况","aria-hidden":"true"}},[a._v("#")]),a._v(" 查看内存使用情况")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("ubuntu@actorcloud:~$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("free")]),a._v(" -m\n              total        used        "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("free")]),a._v("      shared  buff/cache   available\nMem:           7983        2150        3194         330        2638        5166\nSwap:          4095           0        4095\n")])])]),s("h3",{attrs:{id:"查看当前目录下所有文件-文件夹的大小"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看当前目录下所有文件-文件夹的大小","aria-hidden":"true"}},[a._v("#")]),a._v(" 查看当前目录下所有文件/文件夹的大小")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("ubuntu@actorcloud:~$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("du")]),a._v(" -sh *\n527M    rocksdb-5.17.2\n5.0M    v5.17.2.tar.gz\n")])])]),s("h3",{attrs:{id:"查看本机已挂载的分区信息"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看本机已挂载的分区信息","aria-hidden":"true"}},[a._v("#")]),a._v(" 查看本机已挂载的分区信息")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("ubuntu@actorcloud:~$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("df")]),a._v(" -lh\nFilesystem      Size  Used Avail Use% Mounted on\nudev            3.9G     0  3.9G   0% /dev\ntmpfs           799M   84M  715M  11% /run\n/dev/vda1        20G  7.3G   12G  40% /\ntmpfs           3.9G  424K  3.9G   1% /dev/shm\ntmpfs           5.0M     0  5.0M   0% /run/lock\ntmpfs           3.9G     0  3.9G   0% /sys/fs/cgroup\n/dev/vdc1       118G  3.2G  109G   3% /opt\ntmpfs           799M     0  799M   0% /run/user/1000\n")])])]),s("h3",{attrs:{id:"强制杀死某个进程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#强制杀死某个进程","aria-hidden":"true"}},[a._v("#")]),a._v(" 强制杀死某个进程")]),a._v(" "),s("blockquote",[s("p",[a._v("先用 ps 查到 进程 pid，再用 kill -9 pid 强行杀死")])]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("ubuntu@actorcloud:~$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("ps")]),a._v(" -ef "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("grep")]),a._v(" vim\nramesh    7243  7222  9 22:43 pts/2    00:00:00 vim\n ubuntu@actorcloud:~$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("kill")]),a._v(" -9 7243\n")])])]),s("h3",{attrs:{id:"查看某个监听端口的-pid"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看某个监听端口的-pid","aria-hidden":"true"}},[a._v("#")]),a._v(" 查看某个监听端口的 pid")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("ubuntu@actorcloud:~$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("lsof")]),a._v(" -i:18083\nCOMMAND   PID   USER   FD   TYPE DEVICE SIZE/OFF NODE NAME\nbeam.smp 5301 ubuntu   26u  IPv4  24481      0t0  TCP *:18083 "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("LISTEN"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n")])])]),s("h3",{attrs:{id:"改变某个目录-文件的所属用户及所属群组"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#改变某个目录-文件的所属用户及所属群组","aria-hidden":"true"}},[a._v("#")]),a._v(" 改变某个目录/文件的所属用户及所属群组")]),a._v(" "),s("p",[a._v("将某个文件改为ubuntu用户和ubuntu组所有")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("ubuntu@actorcloud:~$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("chown")]),a._v(" ubuntu:ubuntu some_file\n")])])]),s("p",[a._v("递归修改某个目录及目录下的所有文件(或目录)")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("ubuntu@actorcloud:~$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("chown")]),a._v(" -R ubuntu:ubuntu /opt/some_path\n")])])]),s("h3",{attrs:{id:"实时查看日志文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#实时查看日志文件","aria-hidden":"true"}},[a._v("#")]),a._v(" 实时查看日志文件")]),a._v(" "),s("blockquote",[s("p",[a._v("这个命令执行后会等待，如果有新行添加到文件尾部，它会继续输出新的行，可以通过 CTRL-C 终止命令的执行")])]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("ubuntu@actorcloud:~$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("tail")]),a._v(" -f log-file\n")])])]),s("h3",{attrs:{id:"返回到上一次目录"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#返回到上一次目录","aria-hidden":"true"}},[a._v("#")]),a._v(" 返回到上一次目录")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("ubuntu@actorcloud:~$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("pwd")]),a._v("\n/home/ubuntu\nubuntu@actorcloud:~$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("cd")]),a._v(" /opt/\nubuntu@actorcloud:/opt$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("cd")]),a._v(" -\n/home/ubuntu\nubuntu@actorcloud:~$\n")])])]),s("h2",{attrs:{id:"磁盘分区、格式化、挂载"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#磁盘分区、格式化、挂载","aria-hidden":"true"}},[a._v("#")]),a._v(" 磁盘分区、格式化、挂载")]),a._v(" "),s("h3",{attrs:{id:"_1-查看机器挂载硬盘信息"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-查看机器挂载硬盘信息","aria-hidden":"true"}},[a._v("#")]),a._v(" 1. 查看机器挂载硬盘信息")]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("ubuntu@actorcloud:~$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("fdisk")]),a._v(" -l\nDisk /dev/vda: 20 GiB, 21474836480 bytes, 41943040 sectors\nUnits: sectors of 1 * 512 "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" 512 bytes\nSector size "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("logical/physical"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(": 512 bytes / 512 bytes\nI/O size "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("minimum/optimal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(": 512 bytes / 512 bytes\nDisklabel type: dos\nDisk identifier: 0xd46abfdc\n Device     Boot Start      End  Sectors Size Id Type\n/dev/vda1  *     2048 41940991 41938944  20G 83 Linux\n Disk /dev/vdb: 4 GiB, 4294967296 bytes, 8388608 sectors\nUnits: sectors of 1 * 512 "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" 512 bytes\nSector size "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("logical/physical"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(": 512 bytes / 512 bytes\nI/O size "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("minimum/optimal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(": 512 bytes / 512 bytes\n")])])]),s("h3",{attrs:{id:"_2-对有需要的硬盘执行分区操作"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-对有需要的硬盘执行分区操作","aria-hidden":"true"}},[a._v("#")]),a._v(" 2. 对有需要的硬盘执行分区操作")]),a._v(" "),s("blockquote",[s("p",[a._v("对 /dev/vda 分区，执行如下命令后，可以一直回车默认。最后一步输入 "),s("code",[a._v("w")]),a._v(" 字符并回车保存本次分区配置；\n一般会将整块硬盘都分成一个区。")])]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("ubuntu@actorcloud:~$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("fdisk")]),a._v(" /dev/vda\n")])])]),s("h3",{attrs:{id:"_3-对某个分区进行格式化操作"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-对某个分区进行格式化操作","aria-hidden":"true"}},[a._v("#")]),a._v(" 3. 对某个分区进行格式化操作")]),a._v(" "),s("blockquote",[s("p",[a._v("将分区格式化为 ext4 格式")])]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("ubuntu@actorcloud:~$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" mkfs.ext4 /dev/vdc1\n")])])]),s("h3",{attrs:{id:"_4-将格式化后的分区挂载到相应目录"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-将格式化后的分区挂载到相应目录","aria-hidden":"true"}},[a._v("#")]),a._v(" 4. 将格式化后的分区挂载到相应目录")]),a._v(" "),s("blockquote",[s("p",[a._v("该目录必须是已经存在的目录，如果不存在需要先创建")])]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("ubuntu@actorcloud:~$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("mount")]),a._v(" /dev/vdc1 /opt\n")])])]),s("h3",{attrs:{id:"_5-设置开机自动挂载该分区"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-设置开机自动挂载该分区","aria-hidden":"true"}},[a._v("#")]),a._v(" 5. 设置开机自动挂载该分区")]),a._v(" "),s("blockquote",[s("p",[a._v("用 vim 编辑 "),s("code",[a._v("/etc/fstab")]),a._v(" 文件，格式如下\n最后一行就是自动挂载 "),s("code",[a._v("/dev/vdc1")]),a._v(" 到 "),s("code",[a._v("/opt")]),a._v(" 目录")])]),a._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[a._v("ubuntu@actorcloud:~$ "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("cat")]),a._v(" /etc/fstab\n "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# <file system> <mount point>   <type>  <options>       <dump>  <pass>")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# / was on /dev/vda1 during installation")]),a._v("\nUUID"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("0d09c6dd-e982-4abb-9401-b29458e12bc6 /               ext4    errors"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("remount-ro 0       1\n/dev/vdc1                                 /opt            ext4    errors"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("remount-ro 0       1\n")])])])])}],!1,null,null,null);n.options.__file="Linux 基础操作.md";t.default=n.exports}}]);