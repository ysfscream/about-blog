(window.webpackJsonp=window.webpackJsonp||[]).push([[198],{302:function(s,n,a){"use strict";a.r(n);var t=a(0),e=Object(t.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var s=this,n=s.$createElement,a=s._self._c||n;return a("div",{staticClass:"content"},[a("h1",{attrs:{id:"nodejs-通过-nvm-和-n-管理和切换-node-的版本"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nodejs-通过-nvm-和-n-管理和切换-node-的版本","aria-hidden":"true"}},[s._v("#")]),s._v(" NodeJs 通过 NVM 和 n 管理和切换 node 的版本")]),s._v(" "),a("h2",{attrs:{id:"nvm"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nvm","aria-hidden":"true"}},[s._v("#")]),s._v(" NVM")]),s._v(" "),a("p",[s._v("https://segmentfault.com/a/1190000004404505")]),s._v(" "),a("p",[s._v("https://github.com/creationix/nvm")]),s._v(" "),a("p",[s._v("使用"),a("code",[s._v("curl")]),s._v("方式来安装：")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" -o- https://raw.githubusercontent.com/creationix/nvm/v0.30.2/install.sh "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v("\n")])])]),a("p",[s._v("完成后nvm就被安装在了"),a("code",[s._v("~/.nvm")]),s._v("下啦，接下来就需要配一下环境变量了，如果你也使用了"),a("code",[s._v("zsh")]),s._v("的话，就需要在"),a("code",[s._v("~/.zshrc")]),s._v("这个配置文件中配置，否则就找找看"),a("code",[s._v("~/.bash_profile")]),s._v("或者"),a("code",[s._v("~/.profile")]),s._v("吧。")]),s._v(" "),a("p",[s._v("打开"),a("code",[s._v("~/.zshrc")]),s._v("，在最后一行加上：")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("export")]),s._v(" NVM_DIR"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$HOME")]),s._v('/.nvm"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" -s "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$NVM_DIR")]),s._v('/nvm.sh"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v(".")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$NVM_DIR")]),s._v('/nvm.sh"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# This loads nvm")]),s._v("\n")])])]),a("p",[s._v("这一步的作用是每次新打开一个bash，nvm都会被自动添加到环境变量中了。 完成后输入"),a("code",[s._v("source ~/.zshrc")]),s._v("重新启动一下配置。")]),s._v(" "),a("p",[s._v("可以使用"),a("code",[s._v("nvm ls-remote")]),s._v("看一下node有哪些版本可以安装")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("nvm "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" 版本号\nnvm use v4.1.0\nNow using node v4.1.0 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("npm v2.14.3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nnode -v\nv4.1.0\nnvm use v5.5.0\nNow using node v5.5.0 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("npm v3.3.12"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nnode -v\nv5.5.0\n")])])]),a("p",[s._v("不过问题来了，这时如果你新打开一个bash，输入"),a("code",[s._v("nvm current")]),s._v("会发现显示为"),a("code",[s._v("null")]),s._v("，这是因为使用"),a("code",[s._v("nvm use")]),s._v("命令只会在当前bash里生效，重新打开一个bash你会发现"),a("code",[s._v("$PATH")]),s._v("的值已经不包含刚才的node目录了，要解决这个问题也很简单，使用"),a("code",[s._v("nvm alias default <version>")]),s._v("命令来指定一个默认的node版本就ok了，这里我使用了"),a("code",[s._v("v4.1.0")]),s._v("作为默认版本：")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("nvm "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("alias")]),s._v(" default v4.1.0\ndefault -"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" v4.1.0\n")])])]),a("p",[s._v("此时再打开一个bash输入"),a("code",[s._v("nvm current")]),s._v("就会显示为"),a("code",[s._v("v4.1.0")]),s._v("了。")]),s._v(" "),a("h2",{attrs:{id:"n"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#n","aria-hidden":"true"}},[s._v("#")]),s._v(" n")]),s._v(" "),a("p",[s._v("直接查看官方文档：https://github.com/tj/n")]),s._v(" "),a("p",[s._v("参考：https://75team.com/post/manage_node_with_n.html")]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装 Node 版本")]),s._v("\n$ n 版本号\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 选择你想使用的版本")]),s._v("\n$ n \n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Use or install the latest official release:")]),s._v("\n$ n latest\nUse or "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" the stable official release:\n\n$ n stable\nUse or "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" the latest LTS official release:\n\n$ n lts\n\nRemove some versions:\n\n$ n "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" 0.9.4 v0.10.0\nAlternatively, you can use - "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" lieu of rm:\n\n$ n - 0.9.4\nRemoving all versions except the current version:\n\n$ n prune \n")])])])])}],!1,null,null,null);e.options.__file="NodeJs 通过 NVM 和 n 管理和切换 node 的版本.md";n.default=e.exports}}]);